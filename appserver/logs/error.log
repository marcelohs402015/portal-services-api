{"error":"password authentication failed for user \"admin\"","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-13T19:12:31.880Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-13T19:12:31.882Z"}
{"level":"error","message":"Failed to initialize database in real mode","service":"Server","timestamp":"2025-09-13T19:12:31.883Z"}
{"error":"password authentication failed for user \"admin\"","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-13T19:13:32.483Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-13T19:13:32.484Z"}
{"level":"error","message":"Failed to initialize database in real mode","service":"Server","timestamp":"2025-09-13T19:13:32.484Z"}
{"error":"password authentication failed for user \"admin\"","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-13T19:14:21.822Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-13T19:14:21.824Z"}
{"level":"error","message":"Failed to initialize database in real mode","service":"Server","timestamp":"2025-09-13T19:14:21.825Z"}
{"error":"password authentication failed for user \"admin\"","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-13T19:15:26.420Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-13T19:15:26.422Z"}
{"level":"error","message":"Failed to initialize database in real mode","service":"Server","timestamp":"2025-09-13T19:15:26.423Z"}
{"error":"password authentication failed for user \"admin\"","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-13T19:22:41.491Z"}
{"error":"password authentication failed for user \"admin\"","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-13T19:22:41.653Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-13T19:22:41.656Z"}
{"level":"error","message":"Failed to initialize database in real mode","service":"Server","timestamp":"2025-09-13T19:22:41.671Z"}
{"error":"column \"duration\" of relation \"services\" does not exist","level":"error","message":"Query error","params":["Instalação Elétrica","Instalação completa de sistemas elétricos","Eletricista",500,null,true],"service":"Database","text":"INSERT INTO services (name, description, category, price, duration, active) VALUES ($1, $2, $3, $4, $5, $6) RETURNING *","timestamp":"2025-09-13T21:10:52.179Z"}
{"level":"error","message":"Failed to create service","service":"ServicesRoutesReal","timestamp":"2025-09-13T21:10:52.181Z"}
{"error":"column \"duration\" of relation \"services\" does not exist","level":"error","message":"Query error","params":["Instalação Elétrica","Instalação completa de sistemas elétricos","Eletricista",500,"2 hours",true],"service":"Database","text":"INSERT INTO services (name, description, category, price, duration, active) VALUES ($1, $2, $3, $4, $5, $6) RETURNING *","timestamp":"2025-09-13T21:11:13.864Z"}
{"level":"error","message":"Failed to create service","service":"ServicesRoutesReal","timestamp":"2025-09-13T21:11:13.865Z"}
{"error":"column \"duration\" of relation \"services\" does not exist","level":"error","message":"Query error","params":["Instalação Elétrica","Instalação completa de sistemas elétricos","Eletricista",500,null,true],"service":"Database","text":"INSERT INTO services (name, description, category, price, duration, active) VALUES ($1, $2, $3, $4, $5, $6) RETURNING *","timestamp":"2025-09-13T21:11:54.856Z"}
{"level":"error","message":"Failed to create service","service":"ServicesRoutesReal","timestamp":"2025-09-13T21:11:54.857Z"}
{"error":"null value in column \"id\" of relation \"quotations\" violates not-null constraint","level":"error","message":"Query error","params":["João Silva","joao@email.com","11999999999",null,"[{\"name\":\"Instalação Elétrica\",\"price\":1500}]",1500,"draft",null,""],"service":"Database","text":"INSERT INTO quotations (client_name, client_email, client_phone, client_address, services, total, status, valid_until, notes) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING *","timestamp":"2025-09-13T21:14:19.768Z"}
{"level":"error","message":"Failed to create quotation","service":"QuotationsRoutesReal","timestamp":"2025-09-13T21:14:19.781Z"}
{"error":"duplicate key value violates unique constraint \"emails_gmail_id_key\"","level":"error","message":"Query error","params":["unique-gmaivvvl-id-123","Assunto do Email","Nome do Remetente <remetente@email.com>","2025-09-12T13:35:49.795Z","Corpo do email...","Eletricista",false],"service":"Database","text":"INSERT INTO emails (gmail_id, subject, sender, date, body, category, processed)\n         VALUES ($1, $2, $3, $4, $5, $6, $7)\n         RETURNING *","timestamp":"2025-09-13T21:27:34.593Z"}
{"error":"duplicate key value violates unique constraint \"emails_gmail_id_key\"","level":"error","message":"Query error","params":["unique-gmaivvvl-id-123","Assunto do Email","Nome do Remetente <remetente@email.com>","2025-09-12T13:35:49.795Z","Corpo do email...","Eletricista",false],"service":"Database","text":"INSERT INTO emails (gmail_id, subject, sender, date, body, category, processed)\n         VALUES ($1, $2, $3, $4, $5, $6, $7)\n         RETURNING *","timestamp":"2025-09-13T21:28:58.731Z"}
{"error":"duplicate key value violates unique constraint \"emails_gmail_id_key\"","level":"error","message":"Query error","params":["unique-gmaixxxxvvvl-id-123","Assunto do Email","Nome do Remetente <remetente@email.com>","2025-09-12T13:35:49.795Z","Corpo do email...","Eletricista",false],"service":"Database","text":"INSERT INTO emails (gmail_id, subject, sender, date, body, category, processed)\n         VALUES ($1, $2, $3, $4, $5, $6, $7)\n         RETURNING *","timestamp":"2025-09-13T21:29:05.579Z"}
{"error":"null value in column \"id\" of relation \"quotations\" violates not-null constraint","level":"error","message":"Query error","params":["João Silva","joao@email.com","11999999999","Rua das Flores, 123","[{\"service_id\":0,\"quantity\":1,\"unit_price\":150}]",150,"draft","2025-10-13",""],"service":"Database","text":"INSERT INTO quotations (client_name, client_email, client_phone, client_address, services, total, status, valid_until, notes) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING *","timestamp":"2025-09-13T21:29:43.333Z"}
{"level":"error","message":"Failed to create quotation","service":"QuotationsRoutesReal","timestamp":"2025-09-13T21:29:43.336Z"}
{"error":"null value in column \"id\" of relation \"quotations\" violates not-null constraint","level":"error","message":"Query error","params":["João da Silva","joao@teste.com","123456789","Rua das Flores, 123 - Centro","[{\"service_id\":1,\"quantity\":2,\"unit_price\":150}]",300,"draft","2025-12-31","Cotação de teste"],"service":"Database","text":"INSERT INTO quotations (client_name, client_email, client_phone, client_address, services, total, status, valid_until, notes) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING *","timestamp":"2025-09-13T21:29:58.378Z"}
{"level":"error","message":"Failed to create quotation","service":"QuotationsRoutesReal","timestamp":"2025-09-13T21:29:58.379Z"}
{"error":"column \"service_id\" of relation \"appointments\" does not exist","level":"error","message":"Query error","params":["2025-01-15","14:00",60,"Teste de agendamento","scheduled",1,1,""],"service":"Database","text":"INSERT INTO appointments (date, time, duration, notes, status, client_id, service_id, address) VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING *","timestamp":"2025-09-13T21:31:37.371Z"}
{"level":"error","message":"Failed to create appointment","service":"AppointmentsRoutesReal","timestamp":"2025-09-13T21:31:37.377Z"}
{"error":"column \"service_id\" of relation \"appointments\" does not exist","level":"error","message":"Query error","params":["2025-01-15","14:00",60,"Teste de agendamento","scheduled",1,1,""],"service":"Database","text":"INSERT INTO appointments (date, time, duration, notes, status, client_id, service_id, address) VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING *","timestamp":"2025-09-13T21:32:20.494Z"}
{"level":"error","message":"Failed to create appointment","service":"AppointmentsRoutesReal","timestamp":"2025-09-13T21:32:20.499Z"}
{"error":"column \"service_id\" of relation \"appointments\" does not exist","level":"error","message":"Query error","params":["2025-01-15","14:00",60,"Teste de agendamento","scheduled",1,1,""],"service":"Database","text":"INSERT INTO appointments (date, time, duration, notes, status, client_id, service_id, address) VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING *","timestamp":"2025-09-13T21:33:29.471Z"}
{"level":"error","message":"Failed to create appointment","service":"AppointmentsRoutesReal","timestamp":"2025-09-13T21:33:29.478Z"}
{"error":"column \"service_id\" of relation \"appointments\" does not exist","level":"error","message":"Query error","params":["2025-01-15","14:00",60,"Teste de agendamento","scheduled",1,1,""],"service":"Database","text":"INSERT INTO appointments (date, time, duration, notes, status, client_id, service_id, address) VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING *","timestamp":"2025-09-13T21:34:21.900Z"}
{"level":"error","message":"Failed to create appointment","service":"AppointmentsRoutesReal","timestamp":"2025-09-13T21:34:21.933Z"}
{"error":"column \"service_id\" of relation \"appointments\" does not exist","level":"error","message":"Query error","params":["2025-01-15","14:00",60,"Teste de agendamento","scheduled",1,1,""],"service":"Database","text":"INSERT INTO appointments (date, time, duration, notes, status, client_id, service_id, address) VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING *","timestamp":"2025-09-13T21:34:46.791Z"}
{"level":"error","message":"Failed to create appointment","service":"AppointmentsRoutesReal","timestamp":"2025-09-13T21:34:46.796Z"}
{"error":"connect ECONNREFUSED ::1:5432","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-13T23:02:19.291Z"}
{"error":"connect ECONNREFUSED ::1:5432","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-13T23:02:19.302Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-13T23:02:19.304Z"}
{"level":"error","message":"Failed to initialize database in real mode","service":"Server","timestamp":"2025-09-13T23:02:19.305Z"}
{"error":"column \"duration\" of relation \"services\" does not exist","level":"error","message":"Query error","params":["Instalação Elétrica","Instalação completa de sistema elétrico residencial","Eletricista",80,"4-8 horas"],"service":"Database","text":"INSERT INTO services (name, description, category, price, duration) \n         VALUES ($1, $2, $3, $4, $5)","timestamp":"2025-09-13T23:07:39.579Z"}
{"level":"error","message":"Failed to seed default data:","service":"DataSeeder","timestamp":"2025-09-13T23:07:39.579Z"}
{"level":"error","message":"Failed to initialize database in real mode","service":"Server","timestamp":"2025-09-13T23:07:39.580Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:5432","level":"error","message":"Query error","params":[],"service":"Database","text":"\n          SELECT \n            id, name, description, keywords, patterns, domains, \n            color, active, created_at, updated_at \n          FROM categories \n          WHERE 1=1\n         ORDER BY name ASC","timestamp":"2025-09-14T10:38:15.690Z"}
{"level":"error","message":"❌ Error listing categories:","service":"CategoryServer","timestamp":"2025-09-14T10:38:15.691Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:5432","level":"error","message":"Query error","params":[1],"service":"Database","text":"SELECT \n            id, name, description, keywords, patterns, domains, \n            color, active, created_at, updated_at \n          FROM categories \n          WHERE id = $1","timestamp":"2025-09-14T10:38:15.725Z"}
{"level":"error","message":"❌ Error getting category:","service":"CategoryServer","timestamp":"2025-09-14T10:38:15.725Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","params":[1],"service":"Database","text":"SELECT \n            id, name, description, keywords, patterns, domains, \n            color, active, created_at, updated_at \n          FROM categories \n          WHERE id = $1","timestamp":"2025-09-14T10:41:01.443Z"}
{"level":"error","message":"❌ Error getting category:","service":"CategoryServer","timestamp":"2025-09-14T10:41:01.444Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","params":["Teste API","Teste de API","[]","[]","[]","#FF0000",true],"service":"Database","text":"INSERT INTO categories (name, description, keywords, patterns, domains, color, active) \n           VALUES ($1, $2, $3, $4, $5, $6, $7) \n           RETURNING id, name, description, keywords, patterns, domains, color, active, created_at, updated_at","timestamp":"2025-09-14T10:41:01.507Z"}
{"level":"error","message":"❌ Error creating category:","service":"CategoryServer","timestamp":"2025-09-14T10:41:01.508Z"}
{"error":"relation \"emails\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n          SELECT id, subject, sender, recipient, body, status, created_at, updated_at \n          FROM emails \n          ORDER BY created_at DESC \n          LIMIT 50\n        ","timestamp":"2025-09-14T10:49:18.849Z"}
{"code":"42P01","file":"parse_relation.c","length":106,"level":"error","line":"1392","message":"Erro ao listar emails: relation \"emails\" does not exist","name":"error","position":"104","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"emails\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:84:24)","timestamp":"2025-09-14T10:49:18.929Z"}
{"error":"relation \"emails\" does not exist","level":"error","message":"Query error","params":["Teste","test@test.com","client@test.com","Email de teste","pending"],"service":"Database","text":"\n          INSERT INTO emails (subject, sender, recipient, body, status, created_at, updated_at)\n          VALUES ($1, $2, $3, $4, $5, NOW(), NOW())\n          RETURNING *\n        ","timestamp":"2025-09-14T10:49:19.379Z"}
{"code":"42P01","file":"parse_relation.c","length":105,"level":"error","line":"1392","message":"Erro ao criar email: relation \"emails\" does not exist","name":"error","position":"24","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"emails\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:139:24)","timestamp":"2025-09-14T10:49:19.452Z"}
{"error":"relation \"categories\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n          SELECT id, name, description, color, active, created_at, updated_at \n          FROM categories \n          WHERE active = true \n          ORDER BY name ASC\n        ","timestamp":"2025-09-14T10:49:19.714Z"}
{"code":"42P01","file":"parse_relation.c","length":109,"level":"error","line":"1392","message":"Erro ao listar categorias: relation \"categories\" does not exist","name":"error","position":"96","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"categories\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:165:24)","timestamp":"2025-09-14T10:49:19.749Z"}
{"error":"relation \"categories\" does not exist","level":"error","message":"Query error","params":["Teste API","Categoria de teste","#FF0000"],"service":"Database","text":"\n          INSERT INTO categories (name, description, color, active, created_at, updated_at)\n          VALUES ($1, $2, $3, true, NOW(), NOW())\n          RETURNING *\n        ","timestamp":"2025-09-14T10:49:20.004Z"}
{"code":"42P01","file":"parse_relation.c","length":109,"level":"error","line":"1392","message":"Erro ao criar categoria: relation \"categories\" does not exist","name":"error","position":"24","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"categories\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:220:24)","timestamp":"2025-09-14T10:49:20.025Z"}
{"error":"relation \"categories\" does not exist","level":"error","message":"Query error","params":["1"],"service":"Database","text":"\n          SELECT * FROM categories WHERE id = $1\n        ","timestamp":"2025-09-14T10:49:20.228Z"}
{"code":"42P01","file":"parse_relation.c","length":109,"level":"error","line":"1392","message":"Erro ao buscar categoria: relation \"categories\" does not exist","name":"error","position":"26","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"categories\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:191:24)","timestamp":"2025-09-14T10:49:20.241Z"}
{"error":"relation \"services\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n          SELECT s.id, s.name, s.description, s.price, s.duration, s.active,\n                 c.name as category_name, c.color as category_color,\n                 s.created_at, s.updated_at\n          FROM services s\n          LEFT JOIN categories c ON s.category_id = c.id\n          WHERE s.active = true\n          ORDER BY s.name ASC\n        ","timestamp":"2025-09-14T10:49:20.458Z"}
{"code":"42P01","file":"parse_relation.c","length":108,"level":"error","line":"1392","message":"Erro ao listar serviços: relation \"services\" does not exist","name":"error","position":"207","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"services\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:316:24)","timestamp":"2025-09-14T10:49:20.477Z"}
{"error":"relation \"services\" does not exist","level":"error","message":"Query error","params":["Serviço Teste","Descrição do serviço",100,60,1],"service":"Database","text":"\n          INSERT INTO services (name, description, price, duration, category_id, active, created_at, updated_at)\n          VALUES ($1, $2, $3, $4, $5, true, NOW(), NOW())\n          RETURNING *\n        ","timestamp":"2025-09-14T10:49:20.731Z"}
{"code":"42P01","file":"parse_relation.c","length":107,"level":"error","line":"1392","message":"Erro ao criar serviço: relation \"services\" does not exist","name":"error","position":"24","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"services\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:377:24)","timestamp":"2025-09-14T10:49:20.760Z"}
{"error":"relation \"clients\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n          SELECT id, name, email, phone, address, created_at, updated_at\n          FROM clients\n          ORDER BY name ASC\n        ","timestamp":"2025-09-14T10:49:21.040Z"}
{"code":"42P01","file":"parse_relation.c","length":106,"level":"error","line":"1392","message":"Erro ao listar clientes: relation \"clients\" does not exist","name":"error","position":"90","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:403:24)","timestamp":"2025-09-14T10:49:21.053Z"}
{"error":"relation \"clients\" does not exist","level":"error","message":"Query error","params":["Cliente Teste","cliente@test.com","11999999999","Rua Teste, 123"],"service":"Database","text":"\n          INSERT INTO clients (name, email, phone, address, created_at, updated_at)\n          VALUES ($1, $2, $3, $4, NOW(), NOW())\n          RETURNING *\n        ","timestamp":"2025-09-14T10:49:21.257Z"}
{"code":"42P01","file":"parse_relation.c","length":106,"level":"error","line":"1392","message":"Erro ao criar cliente: relation \"clients\" does not exist","name":"error","position":"24","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:457:24)","timestamp":"2025-09-14T10:49:21.272Z"}
{"error":"relation \"appointments\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n          SELECT a.id, a.title, a.description, a.start_date, a.end_date, a.status,\n                 c.name as client_name, c.email as client_email,\n                 s.name as service_name,\n                 a.created_at, a.updated_at\n          FROM appointments a\n          LEFT JOIN clients c ON a.client_id = c.id\n          LEFT JOIN services s ON a.service_id = s.id\n          ORDER BY a.start_date ASC\n        ","timestamp":"2025-09-14T10:49:21.429Z"}
{"code":"42P01","file":"parse_relation.c","length":112,"level":"error","line":"1392","message":"Erro ao listar agendamentos: relation \"appointments\" does not exist","name":"error","position":"250","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"appointments\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:483:24)","timestamp":"2025-09-14T10:49:21.437Z"}
{"error":"relation \"appointments\" does not exist","level":"error","message":"Query error","params":["Agendamento Teste","Descrição do agendamento","2024-01-01T10:00:00Z","2024-01-01T11:00:00Z",1,1,"scheduled"],"service":"Database","text":"\n          INSERT INTO appointments (title, description, start_date, end_date, client_id, service_id, status, created_at, updated_at)\n          VALUES ($1, $2, $3, $4, $5, $6, $7, NOW(), NOW())\n          RETURNING *\n        ","timestamp":"2025-09-14T10:49:21.661Z"}
{"code":"42P01","file":"parse_relation.c","length":111,"level":"error","line":"1392","message":"Erro ao criar agendamento: relation \"appointments\" does not exist","name":"error","position":"24","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"appointments\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:547:24)","timestamp":"2025-09-14T10:49:21.668Z"}
{"error":"relation \"quotations\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n          SELECT q.id, q.title, q.description, q.total_amount, q.status,\n                 c.name as client_name, c.email as client_email,\n                 q.created_at, q.updated_at\n          FROM quotations q\n          LEFT JOIN clients c ON q.client_id = c.id\n          ORDER BY q.created_at DESC\n        ","timestamp":"2025-09-14T10:49:21.921Z"}
{"code":"42P01","file":"parse_relation.c","length":110,"level":"error","line":"1392","message":"Erro ao listar orçamentos: relation \"quotations\" does not exist","name":"error","position":"199","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"quotations\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:573:24)","timestamp":"2025-09-14T10:49:21.935Z"}
{"error":"relation \"quotations\" does not exist","level":"error","message":"Query error","params":["Orçamento Teste","Descrição do orçamento",500,1,"draft"],"service":"Database","text":"\n          INSERT INTO quotations (title, description, total_amount, client_id, status, created_at, updated_at)\n          VALUES ($1, $2, $3, $4, $5, NOW(), NOW())\n          RETURNING *\n        ","timestamp":"2025-09-14T10:49:22.185Z"}
{"code":"42P01","file":"parse_relation.c","length":109,"level":"error","line":"1392","message":"Erro ao criar orçamento: relation \"quotations\" does not exist","name":"error","position":"24","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"quotations\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:633:24)","timestamp":"2025-09-14T10:49:22.189Z"}
{"error":"relation \"clients\" does not exist","level":"error","message":"Query error","service":"Database","text":"SELECT COUNT(*) as count FROM clients","timestamp":"2025-09-14T10:49:22.619Z"}
{"code":"42P01","file":"parse_relation.c","length":106,"level":"error","line":"1392","message":"Erro ao gerar estatísticas: relation \"clients\" does not exist","name":"error","position":"31","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at async Promise.all (index 0)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:661:96)","timestamp":"2025-09-14T10:49:22.638Z"}
{"error":"relation \"quotations\" does not exist","level":"error","message":"Query error","service":"Database","text":"SELECT COUNT(*) as count FROM quotations","timestamp":"2025-09-14T10:49:22.675Z"}
{"error":"relation \"appointments\" does not exist","level":"error","message":"Query error","service":"Database","text":"SELECT COUNT(*) as count FROM appointments","timestamp":"2025-09-14T10:49:22.711Z"}
{"error":"relation \"emails\" does not exist","level":"error","message":"Query error","service":"Database","text":"SELECT COUNT(*) as count FROM emails","timestamp":"2025-09-14T10:49:22.725Z"}
{"error":"relation \"services\" does not exist","level":"error","message":"Query error","service":"Database","text":"SELECT COUNT(*) as count FROM services WHERE active = true","timestamp":"2025-09-14T10:49:22.729Z"}
{"error":"relation \"emails\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n          SELECT id, subject, sender, recipient, body, status, created_at, updated_at \n          FROM emails \n          ORDER BY created_at DESC \n          LIMIT 50\n        ","timestamp":"2025-09-14T10:54:32.528Z"}
{"code":"42P01","file":"parse_relation.c","length":106,"level":"error","line":"1392","message":"Erro ao listar emails: relation \"emails\" does not exist","name":"error","position":"104","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"emails\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:84:24)","timestamp":"2025-09-14T10:54:32.544Z"}
{"error":"relation \"emails\" does not exist","level":"error","message":"Query error","params":["Teste","test@test.com","client@test.com","Email de teste","pending"],"service":"Database","text":"\n          INSERT INTO emails (subject, sender, recipient, body, status, created_at, updated_at)\n          VALUES ($1, $2, $3, $4, $5, NOW(), NOW())\n          RETURNING *\n        ","timestamp":"2025-09-14T10:54:32.656Z"}
{"code":"42P01","file":"parse_relation.c","length":105,"level":"error","line":"1392","message":"Erro ao criar email: relation \"emails\" does not exist","name":"error","position":"24","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"emails\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:139:24)","timestamp":"2025-09-14T10:54:32.688Z"}
{"error":"relation \"categories\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n          SELECT id, name, description, color, active, created_at, updated_at \n          FROM categories \n          WHERE active = true \n          ORDER BY name ASC\n        ","timestamp":"2025-09-14T10:54:32.772Z"}
{"code":"42P01","file":"parse_relation.c","length":109,"level":"error","line":"1392","message":"Erro ao listar categorias: relation \"categories\" does not exist","name":"error","position":"96","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"categories\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:165:24)","timestamp":"2025-09-14T10:54:32.777Z"}
{"error":"relation \"categories\" does not exist","level":"error","message":"Query error","params":["Teste API","Categoria de teste","#FF0000"],"service":"Database","text":"\n          INSERT INTO categories (name, description, color, active, created_at, updated_at)\n          VALUES ($1, $2, $3, true, NOW(), NOW())\n          RETURNING *\n        ","timestamp":"2025-09-14T10:54:32.839Z"}
{"code":"42P01","file":"parse_relation.c","length":109,"level":"error","line":"1392","message":"Erro ao criar categoria: relation \"categories\" does not exist","name":"error","position":"24","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"categories\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:220:24)","timestamp":"2025-09-14T10:54:32.842Z"}
{"error":"relation \"categories\" does not exist","level":"error","message":"Query error","params":["1"],"service":"Database","text":"\n          SELECT * FROM categories WHERE id = $1\n        ","timestamp":"2025-09-14T10:54:32.897Z"}
{"code":"42P01","file":"parse_relation.c","length":109,"level":"error","line":"1392","message":"Erro ao buscar categoria: relation \"categories\" does not exist","name":"error","position":"26","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"categories\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:191:24)","timestamp":"2025-09-14T10:54:32.902Z"}
{"error":"relation \"services\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n          SELECT s.id, s.name, s.description, s.price, s.duration, s.active,\n                 c.name as category_name, c.color as category_color,\n                 s.created_at, s.updated_at\n          FROM services s\n          LEFT JOIN categories c ON s.category_id = c.id\n          WHERE s.active = true\n          ORDER BY s.name ASC\n        ","timestamp":"2025-09-14T10:54:32.972Z"}
{"code":"42P01","file":"parse_relation.c","length":108,"level":"error","line":"1392","message":"Erro ao listar serviços: relation \"services\" does not exist","name":"error","position":"207","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"services\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:316:24)","timestamp":"2025-09-14T10:54:32.977Z"}
{"error":"relation \"services\" does not exist","level":"error","message":"Query error","params":["Serviço Teste","Descrição do serviço",100,60,1],"service":"Database","text":"\n          INSERT INTO services (name, description, price, duration, category_id, active, created_at, updated_at)\n          VALUES ($1, $2, $3, $4, $5, true, NOW(), NOW())\n          RETURNING *\n        ","timestamp":"2025-09-14T10:54:33.051Z"}
{"code":"42P01","file":"parse_relation.c","length":107,"level":"error","line":"1392","message":"Erro ao criar serviço: relation \"services\" does not exist","name":"error","position":"24","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"services\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:377:24)","timestamp":"2025-09-14T10:54:33.057Z"}
{"error":"relation \"clients\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n          SELECT id, name, email, phone, address, created_at, updated_at\n          FROM clients\n          ORDER BY name ASC\n        ","timestamp":"2025-09-14T10:54:33.118Z"}
{"code":"42P01","file":"parse_relation.c","length":106,"level":"error","line":"1392","message":"Erro ao listar clientes: relation \"clients\" does not exist","name":"error","position":"90","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:403:24)","timestamp":"2025-09-14T10:54:33.121Z"}
{"error":"relation \"clients\" does not exist","level":"error","message":"Query error","params":["Cliente Teste","cliente@test.com","11999999999","Rua Teste, 123"],"service":"Database","text":"\n          INSERT INTO clients (name, email, phone, address, created_at, updated_at)\n          VALUES ($1, $2, $3, $4, NOW(), NOW())\n          RETURNING *\n        ","timestamp":"2025-09-14T10:54:33.177Z"}
{"code":"42P01","file":"parse_relation.c","length":106,"level":"error","line":"1392","message":"Erro ao criar cliente: relation \"clients\" does not exist","name":"error","position":"24","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:457:24)","timestamp":"2025-09-14T10:54:33.184Z"}
{"error":"relation \"appointments\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n          SELECT a.id, a.title, a.description, a.start_date, a.end_date, a.status,\n                 c.name as client_name, c.email as client_email,\n                 s.name as service_name,\n                 a.created_at, a.updated_at\n          FROM appointments a\n          LEFT JOIN clients c ON a.client_id = c.id\n          LEFT JOIN services s ON a.service_id = s.id\n          ORDER BY a.start_date ASC\n        ","timestamp":"2025-09-14T10:54:33.262Z"}
{"code":"42P01","file":"parse_relation.c","length":112,"level":"error","line":"1392","message":"Erro ao listar agendamentos: relation \"appointments\" does not exist","name":"error","position":"250","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"appointments\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:483:24)","timestamp":"2025-09-14T10:54:33.271Z"}
{"error":"relation \"appointments\" does not exist","level":"error","message":"Query error","params":["Agendamento Teste","Descrição do agendamento","2024-01-01T10:00:00Z","2024-01-01T11:00:00Z",1,1,"scheduled"],"service":"Database","text":"\n          INSERT INTO appointments (title, description, start_date, end_date, client_id, service_id, status, created_at, updated_at)\n          VALUES ($1, $2, $3, $4, $5, $6, $7, NOW(), NOW())\n          RETURNING *\n        ","timestamp":"2025-09-14T10:54:33.343Z"}
{"code":"42P01","file":"parse_relation.c","length":111,"level":"error","line":"1392","message":"Erro ao criar agendamento: relation \"appointments\" does not exist","name":"error","position":"24","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"appointments\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:547:24)","timestamp":"2025-09-14T10:54:33.346Z"}
{"error":"relation \"quotations\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n          SELECT q.id, q.title, q.description, q.total_amount, q.status,\n                 c.name as client_name, c.email as client_email,\n                 q.created_at, q.updated_at\n          FROM quotations q\n          LEFT JOIN clients c ON q.client_id = c.id\n          ORDER BY q.created_at DESC\n        ","timestamp":"2025-09-14T10:54:33.418Z"}
{"code":"42P01","file":"parse_relation.c","length":110,"level":"error","line":"1392","message":"Erro ao listar orçamentos: relation \"quotations\" does not exist","name":"error","position":"199","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"quotations\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:573:24)","timestamp":"2025-09-14T10:54:33.424Z"}
{"error":"relation \"quotations\" does not exist","level":"error","message":"Query error","params":["Orçamento Teste","Descrição do orçamento",500,1,"draft"],"service":"Database","text":"\n          INSERT INTO quotations (title, description, total_amount, client_id, status, created_at, updated_at)\n          VALUES ($1, $2, $3, $4, $5, NOW(), NOW())\n          RETURNING *\n        ","timestamp":"2025-09-14T10:54:33.493Z"}
{"code":"42P01","file":"parse_relation.c","length":109,"level":"error","line":"1392","message":"Erro ao criar orçamento: relation \"quotations\" does not exist","name":"error","position":"24","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"quotations\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:633:24)","timestamp":"2025-09-14T10:54:33.496Z"}
{"error":"relation \"appointments\" does not exist","level":"error","message":"Query error","service":"Database","text":"SELECT COUNT(*) as count FROM appointments","timestamp":"2025-09-14T10:54:33.597Z"}
{"code":"42P01","file":"parse_relation.c","length":111,"level":"error","line":"1392","message":"Erro ao gerar estatísticas: relation \"appointments\" does not exist","name":"error","position":"31","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"appointments\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at async Promise.all (index 2)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:661:96)","timestamp":"2025-09-14T10:54:33.607Z"}
{"error":"relation \"services\" does not exist","level":"error","message":"Query error","service":"Database","text":"SELECT COUNT(*) as count FROM services WHERE active = true","timestamp":"2025-09-14T10:54:33.611Z"}
{"error":"relation \"quotations\" does not exist","level":"error","message":"Query error","service":"Database","text":"SELECT COUNT(*) as count FROM quotations","timestamp":"2025-09-14T10:54:33.624Z"}
{"error":"relation \"clients\" does not exist","level":"error","message":"Query error","service":"Database","text":"SELECT COUNT(*) as count FROM clients","timestamp":"2025-09-14T10:54:33.626Z"}
{"error":"relation \"emails\" does not exist","level":"error","message":"Query error","service":"Database","text":"SELECT COUNT(*) as count FROM emails","timestamp":"2025-09-14T10:54:33.635Z"}
{"error":"relation \"categories\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n          SELECT id, name, description, color, active, created_at, updated_at \n          FROM categories \n          WHERE active = true \n          ORDER BY name ASC\n        ","timestamp":"2025-09-14T10:55:05.743Z"}
{"code":"42P01","file":"parse_relation.c","length":109,"level":"error","line":"1392","message":"Erro ao listar categorias: relation \"categories\" does not exist","name":"error","position":"96","routine":"parserOpenTable","service":"CompleteServer","severity":"ERROR","stack":"error: relation \"categories\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at <anonymous> (/home/mstech/projetos/app-email-attendant/appserver/server-complete.ts:165:24)","timestamp":"2025-09-14T10:55:05.746Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:16:38.209Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:16:38.488Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T12:16:38.492Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T12:16:38.504Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:17:43.438Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:17:43.695Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T12:17:43.697Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T12:17:43.699Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:18:19.786Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:18:20.021Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T12:18:20.024Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T12:18:20.037Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:20:01.453Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:20:01.563Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T12:20:01.565Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T12:20:01.567Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:29:02.075Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:29:02.371Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T12:29:02.372Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T12:29:02.391Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:29:31.399Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:29:31.682Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T12:29:31.691Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T12:29:31.693Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:31:15.561Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:31:15.773Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T12:31:15.776Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T12:31:15.788Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:32:08.509Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:32:08.729Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T12:32:08.739Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T12:32:08.754Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:33:01.594Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:33:02.081Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T12:33:02.161Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T12:33:02.289Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:33:22.795Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T12:33:23.184Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T12:33:23.277Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T12:33:23.280Z"}
{"error":"password authentication failed for user \"admin\"","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T15:18:22.247Z"}
{"error":"password authentication failed for user \"admin\"","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T15:18:22.266Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T15:18:22.267Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T15:18:22.268Z"}
{"error":"password authentication failed for user \"admin\"","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T15:19:04.824Z"}
{"error":"password authentication failed for user \"admin\"","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T15:19:04.839Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T15:19:04.841Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T15:19:04.842Z"}
{"error":"password authentication failed for user \"admin\"","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T15:20:13.600Z"}
{"error":"password authentication failed for user \"admin\"","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T15:20:13.617Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T15:20:13.618Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T15:20:13.620Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T15:28:48.356Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T15:28:48.387Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T15:28:48.387Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T15:28:48.389Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T15:38:29.979Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T15:38:30.030Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T15:38:30.033Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T15:38:30.040Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T15:45:26.732Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T15:45:26.755Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T15:45:26.756Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T15:45:26.758Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T15:47:00.354Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T15:47:00.446Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T15:47:00.447Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T15:47:00.450Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T15:48:28.081Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T15:48:28.124Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T15:48:28.126Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T15:48:28.128Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T15:53:14.549Z"}
{"error":"column \"gmail_id\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE INDEX IF NOT EXISTS idx_emails_gmail_id ON emails(gmail_id);\n    CREATE INDEX IF NOT EXISTS idx_emails_category ON emails(category);\n    CREATE INDEX IF NOT EXISTS idx_emails_date ON emails(date);\n    CREATE INDEX IF NOT EXISTS idx_emails_processed ON emails(processed);\n    CREATE INDEX IF NOT EXISTS idx_categories_name ON categories(name);\n    CREATE INDEX IF NOT EXISTS idx_categories_active ON categories(active);\n    CREATE INDEX IF NOT EXISTS idx_services_category ON services(category);\n    CREATE INDEX IF NOT EXISTS idx_services_active ON services(active);\n    CREATE INDEX IF NOT EXISTS idx_clients_email ON clients(email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_client_email ON quotations(client_email);\n    CREATE INDEX IF NOT EXISTS idx_quotations_status ON quotations(status);\n    CREATE INDEX IF NOT EXISTS idx_appointments_client_id ON appointments(client_id);\n    CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n    CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n  ","timestamp":"2025-09-14T15:53:14.575Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T15:53:14.577Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T15:53:14.578Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T15:54:18.679Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T15:54:18.709Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T15:54:18.710Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T15:54:18.715Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["Cliente Teste Frontend","fronxxxtend@teste.com","(11) 88888-8888",null,"Rua Frontend, 456",null,null,null,null,"cpf",null],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T16:06:36.178Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1075","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T16:06:36.194Z"}
{"level":"error","message":"Validation error creating service:","service":"ServiceService","timestamp":"2025-09-14T16:09:22.960Z"}
{"error":"column \"sort_order\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n        SELECT * FROM categories \n        WHERE active = true \n        ORDER BY sort_order ASC, name ASC\n      ","timestamp":"2025-09-14T16:12:32.195Z"}
{"code":"42703","file":"parse_relation.c","length":110,"level":"error","line":"3665","message":"Error finding active categories: column \"sort_order\" does not exist","name":"error","position":"82","routine":"errorMissingColumn","service":"CategoryRepository","severity":"ERROR","stack":"error: column \"sort_order\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at CategoryRepository.findActive (/home/mstech/projetos/app-email-attendant/appserver/repositories/CategoryRepository.ts:72:22)\n    at CategoryService.getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/services/CategoryService.ts:65:14)\n    at getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/controllers/CategoryController.ts:53:22)","timestamp":"2025-09-14T16:12:32.218Z"}
{"error":"column \"sort_order\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n        SELECT * FROM categories \n        WHERE active = true \n        ORDER BY sort_order ASC, name ASC\n      ","timestamp":"2025-09-14T16:12:32.340Z"}
{"code":"42703","file":"parse_relation.c","length":110,"level":"error","line":"3665","message":"Error finding active categories: column \"sort_order\" does not exist","name":"error","position":"82","routine":"errorMissingColumn","service":"CategoryRepository","severity":"ERROR","stack":"error: column \"sort_order\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at CategoryRepository.findActive (/home/mstech/projetos/app-email-attendant/appserver/repositories/CategoryRepository.ts:72:22)\n    at CategoryService.getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/services/CategoryService.ts:65:14)\n    at getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/controllers/CategoryController.ts:53:22)","timestamp":"2025-09-14T16:12:32.385Z"}
{"error":"column \"sort_order\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n        SELECT * FROM categories \n        WHERE active = true \n        ORDER BY sort_order ASC, name ASC\n      ","timestamp":"2025-09-14T16:12:42.619Z"}
{"code":"42703","file":"parse_relation.c","length":110,"level":"error","line":"3665","message":"Error finding active categories: column \"sort_order\" does not exist","name":"error","position":"82","routine":"errorMissingColumn","service":"CategoryRepository","severity":"ERROR","stack":"error: column \"sort_order\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at CategoryRepository.findActive (/home/mstech/projetos/app-email-attendant/appserver/repositories/CategoryRepository.ts:72:22)\n    at CategoryService.getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/services/CategoryService.ts:65:14)\n    at getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/controllers/CategoryController.ts:53:22)","timestamp":"2025-09-14T16:12:42.620Z"}
{"error":"column \"sort_order\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n        SELECT * FROM categories \n        WHERE active = true \n        ORDER BY sort_order ASC, name ASC\n      ","timestamp":"2025-09-14T16:12:43.317Z"}
{"code":"42703","file":"parse_relation.c","length":110,"level":"error","line":"3665","message":"Error finding active categories: column \"sort_order\" does not exist","name":"error","position":"82","routine":"errorMissingColumn","service":"CategoryRepository","severity":"ERROR","stack":"error: column \"sort_order\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at CategoryRepository.findActive (/home/mstech/projetos/app-email-attendant/appserver/repositories/CategoryRepository.ts:72:22)\n    at CategoryService.getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/services/CategoryService.ts:65:14)\n    at getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/controllers/CategoryController.ts:53:22)","timestamp":"2025-09-14T16:12:43.319Z"}
{"error":"column \"sort_order\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n        SELECT * FROM categories \n        WHERE active = true \n        ORDER BY sort_order ASC, name ASC\n      ","timestamp":"2025-09-14T16:12:45.736Z"}
{"code":"42703","file":"parse_relation.c","length":110,"level":"error","line":"3665","message":"Error finding active categories: column \"sort_order\" does not exist","name":"error","position":"82","routine":"errorMissingColumn","service":"CategoryRepository","severity":"ERROR","stack":"error: column \"sort_order\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at CategoryRepository.findActive (/home/mstech/projetos/app-email-attendant/appserver/repositories/CategoryRepository.ts:72:22)\n    at CategoryService.getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/services/CategoryService.ts:65:14)\n    at getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/controllers/CategoryController.ts:53:22)","timestamp":"2025-09-14T16:12:45.744Z"}
{"error":"column \"sort_order\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n        SELECT * FROM categories \n        WHERE active = true \n        ORDER BY sort_order ASC, name ASC\n      ","timestamp":"2025-09-14T16:12:45.812Z"}
{"code":"42703","file":"parse_relation.c","length":110,"level":"error","line":"3665","message":"Error finding active categories: column \"sort_order\" does not exist","name":"error","position":"82","routine":"errorMissingColumn","service":"CategoryRepository","severity":"ERROR","stack":"error: column \"sort_order\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at CategoryRepository.findActive (/home/mstech/projetos/app-email-attendant/appserver/repositories/CategoryRepository.ts:72:22)\n    at CategoryService.getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/services/CategoryService.ts:65:14)\n    at getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/controllers/CategoryController.ts:53:22)","timestamp":"2025-09-14T16:12:45.821Z"}
{"error":"column \"sort_order\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n        SELECT * FROM categories \n        WHERE active = true \n        ORDER BY sort_order ASC, name ASC\n      ","timestamp":"2025-09-14T16:12:47.909Z"}
{"code":"42703","file":"parse_relation.c","length":110,"level":"error","line":"3665","message":"Error finding active categories: column \"sort_order\" does not exist","name":"error","position":"82","routine":"errorMissingColumn","service":"CategoryRepository","severity":"ERROR","stack":"error: column \"sort_order\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at CategoryRepository.findActive (/home/mstech/projetos/app-email-attendant/appserver/repositories/CategoryRepository.ts:72:22)\n    at CategoryService.getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/services/CategoryService.ts:65:14)\n    at getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/controllers/CategoryController.ts:53:22)","timestamp":"2025-09-14T16:12:47.911Z"}
{"error":"column \"sort_order\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n        SELECT * FROM categories \n        WHERE active = true \n        ORDER BY sort_order ASC, name ASC\n      ","timestamp":"2025-09-14T16:12:47.963Z"}
{"code":"42703","file":"parse_relation.c","length":110,"level":"error","line":"3665","message":"Error finding active categories: column \"sort_order\" does not exist","name":"error","position":"82","routine":"errorMissingColumn","service":"CategoryRepository","severity":"ERROR","stack":"error: column \"sort_order\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at CategoryRepository.findActive (/home/mstech/projetos/app-email-attendant/appserver/repositories/CategoryRepository.ts:72:22)\n    at CategoryService.getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/services/CategoryService.ts:65:14)\n    at getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/controllers/CategoryController.ts:53:22)","timestamp":"2025-09-14T16:12:47.970Z"}
{"error":"column \"sort_order\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n        SELECT * FROM categories \n        WHERE active = true \n        ORDER BY sort_order ASC, name ASC\n      ","timestamp":"2025-09-14T16:13:03.763Z"}
{"code":"42703","file":"parse_relation.c","length":110,"level":"error","line":"3665","message":"Error finding active categories: column \"sort_order\" does not exist","name":"error","position":"82","routine":"errorMissingColumn","service":"CategoryRepository","severity":"ERROR","stack":"error: column \"sort_order\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at CategoryRepository.findActive (/home/mstech/projetos/app-email-attendant/appserver/repositories/CategoryRepository.ts:72:22)\n    at CategoryService.getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/services/CategoryService.ts:65:14)\n    at getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/controllers/CategoryController.ts:53:22)","timestamp":"2025-09-14T16:13:03.775Z"}
{"error":"column \"sort_order\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n        SELECT * FROM categories \n        WHERE active = true \n        ORDER BY sort_order ASC, name ASC\n      ","timestamp":"2025-09-14T16:13:03.845Z"}
{"code":"42703","file":"parse_relation.c","length":110,"level":"error","line":"3665","message":"Error finding active categories: column \"sort_order\" does not exist","name":"error","position":"82","routine":"errorMissingColumn","service":"CategoryRepository","severity":"ERROR","stack":"error: column \"sort_order\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at CategoryRepository.findActive (/home/mstech/projetos/app-email-attendant/appserver/repositories/CategoryRepository.ts:72:22)\n    at CategoryService.getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/services/CategoryService.ts:65:14)\n    at getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/controllers/CategoryController.ts:53:22)","timestamp":"2025-09-14T16:13:03.852Z"}
{"error":"column \"sort_order\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n        SELECT * FROM categories \n        WHERE active = true \n        ORDER BY sort_order ASC, name ASC\n      ","timestamp":"2025-09-14T16:13:16.483Z"}
{"code":"42703","file":"parse_relation.c","length":110,"level":"error","line":"3665","message":"Error finding active categories: column \"sort_order\" does not exist","name":"error","position":"82","routine":"errorMissingColumn","service":"CategoryRepository","severity":"ERROR","stack":"error: column \"sort_order\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at CategoryRepository.findActive (/home/mstech/projetos/app-email-attendant/appserver/repositories/CategoryRepository.ts:72:22)\n    at CategoryService.getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/services/CategoryService.ts:65:14)\n    at getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/controllers/CategoryController.ts:53:22)","timestamp":"2025-09-14T16:13:16.485Z"}
{"error":"column \"sort_order\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n        SELECT * FROM categories \n        WHERE active = true \n        ORDER BY sort_order ASC, name ASC\n      ","timestamp":"2025-09-14T16:13:16.514Z"}
{"code":"42703","file":"parse_relation.c","length":110,"level":"error","line":"3665","message":"Error finding active categories: column \"sort_order\" does not exist","name":"error","position":"82","routine":"errorMissingColumn","service":"CategoryRepository","severity":"ERROR","stack":"error: column \"sort_order\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at CategoryRepository.findActive (/home/mstech/projetos/app-email-attendant/appserver/repositories/CategoryRepository.ts:72:22)\n    at CategoryService.getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/services/CategoryService.ts:65:14)\n    at getActiveCategories (/home/mstech/projetos/app-email-attendant/appserver/controllers/CategoryController.ts:53:22)","timestamp":"2025-09-14T16:13:16.517Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["Teste Cliente","teste@email.com","(11) 99999-9999",null,null,null,null,null,null,"cpf",null],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T16:14:44.429Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1075","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T16:14:44.444Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["Teste Cliente","teste@email.com","(11) 99999-9999",null,null,null,null,null,null,"cpf",null],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T16:15:56.937Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1075","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T16:15:56.944Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T16:19:04.146Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T16:19:04.230Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T16:19:04.232Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T16:19:04.233Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T16:19:17.770Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T16:19:17.822Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T16:19:17.824Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T16:19:17.831Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T16:20:00.116Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T16:20:00.165Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T16:20:00.166Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T16:20:00.168Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T16:21:42.285Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T16:21:42.346Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T16:21:42.352Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T16:21:42.360Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T16:22:07.906Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T16:22:07.998Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T16:22:08.000Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T16:22:08.007Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T16:22:08.007Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T16:22:08.095Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T16:22:08.124Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T16:22:08.125Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T16:22:08.135Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T16:22:08.202Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T16:22:08.204Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T16:22:08.205Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T16:24:44.354Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T16:24:44.406Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T16:24:44.407Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T16:24:44.408Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T16:25:03.552Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T16:25:03.582Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T16:25:03.583Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T16:25:03.584Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["marcelo hernandes","mm@hh.com","112222333",null,null,null,null,null,null,"cpf",null],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T16:48:59.948Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1075","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T16:49:00.072Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["Cliente Teste Frontend","fronxxxtend@teste.com","(11) 88888-8888",null,"Rua Frontend, 456",null,null,null,null,"cpf",null],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T16:49:20.745Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1075","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T16:49:20.757Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["Cliente Teste Frontend","fronxxxtend@teste.com","(11) 88888-8888",null,"Rua Frontend, 456",null,null,null,null,"cpf",null],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T16:49:21.781Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1075","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T16:49:21.790Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["Cliente Teste Frontend","fronxxxtend@teste.com","(11) 88888-8888",null,"Rua Frontend, 456",null,null,null,null,"cpf",null],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T16:49:22.493Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1075","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T16:49:22.497Z"}
{"error":"column \"document\" does not exist","level":"error","message":"Query error","params":["123.456.789-00"],"service":"Database","text":"SELECT * FROM clients WHERE document = $1 LIMIT 1","timestamp":"2025-09-14T16:50:58.826Z"}
{"code":"42703","file":"parse_relation.c","length":108,"level":"error","line":"3665","message":"Error finding client by document: column \"document\" does not exist","name":"error","position":"29","routine":"errorMissingColumn","service":"ClientRepository","severity":"ERROR","stack":"error: column \"document\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.findByDocument (/home/mstech/projetos/app-email-attendant/appserver/repositories/ClientRepository.ts:145:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:179:32)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T16:50:58.832Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João da Silva","joao@teste.com","11999999999","1133333333","Rua das Flores, 123 - Centro","São Paulo","SP","01234-567","123.456.789-00","cpf","Cliente preferencial"],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T16:50:58.864Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1075","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T16:50:58.876Z"}
{"error":"column \"document\" does not exist","level":"error","message":"Query error","params":["123.456.789-00"],"service":"Database","text":"SELECT * FROM clients WHERE document = $1 LIMIT 1","timestamp":"2025-09-14T16:51:22.757Z"}
{"code":"42703","file":"parse_relation.c","length":108,"level":"error","line":"3665","message":"Error finding client by document: column \"document\" does not exist","name":"error","position":"29","routine":"errorMissingColumn","service":"ClientRepository","severity":"ERROR","stack":"error: column \"document\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.findByDocument (/home/mstech/projetos/app-email-attendant/appserver/repositories/ClientRepository.ts:145:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:179:32)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T16:51:22.762Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João da Silva","joao@teste.com","11999999999",null,"Rua das Flores, 123 - Centro","São Paulo","SP","01234-567","123.456.789-00","cpf","Cliente preferencial"],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T16:51:22.782Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1075","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T16:51:22.786Z"}
{"error":"column \"document\" does not exist","level":"error","message":"Query error","params":["123.456.789-00"],"service":"Database","text":"SELECT * FROM clients WHERE document = $1 LIMIT 1","timestamp":"2025-09-14T16:51:28.357Z"}
{"code":"42703","file":"parse_relation.c","length":108,"level":"error","line":"3665","message":"Error finding client by document: column \"document\" does not exist","name":"error","position":"29","routine":"errorMissingColumn","service":"ClientRepository","severity":"ERROR","stack":"error: column \"document\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.findByDocument (/home/mstech/projetos/app-email-attendant/appserver/repositories/ClientRepository.ts:145:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:179:32)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T16:51:28.362Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João da Silva","joao@teste.com","11999999999","1133333333","Rua das Flores, 123 - Centro","São Paulo","SP","01234-567","123.456.789-00","cpf","Cliente preferencial"],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T16:51:28.405Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1075","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T16:51:28.426Z"}
{"error":"column \"document\" does not exist","level":"error","message":"Query error","params":["123.456.789-00"],"service":"Database","text":"SELECT * FROM clients WHERE document = $1 LIMIT 1","timestamp":"2025-09-14T16:51:29.357Z"}
{"code":"42703","file":"parse_relation.c","length":108,"level":"error","line":"3665","message":"Error finding client by document: column \"document\" does not exist","name":"error","position":"29","routine":"errorMissingColumn","service":"ClientRepository","severity":"ERROR","stack":"error: column \"document\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.findByDocument (/home/mstech/projetos/app-email-attendant/appserver/repositories/ClientRepository.ts:145:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:179:32)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T16:51:29.362Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João da Silva","joao@teste.com","11999999999","1133333333","Rua das Flores, 123 - Centro","São Paulo","SP","01234-567","123.456.789-00","cpf","Cliente preferencial"],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T16:51:29.400Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1075","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T16:51:29.404Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T16:52:18.033Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T16:52:18.085Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T16:52:18.091Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T16:52:18.095Z"}
{"error":"column \"document\" does not exist","level":"error","message":"Query error","params":["123.456.789-00"],"service":"Database","text":"SELECT * FROM clients WHERE document = $1 LIMIT 1","timestamp":"2025-09-14T16:53:34.219Z"}
{"code":"42703","file":"parse_relation.c","length":108,"level":"error","line":"3665","message":"Error finding client by document: column \"document\" does not exist","name":"error","position":"29","routine":"errorMissingColumn","service":"ClientRepository","severity":"ERROR","stack":"error: column \"document\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.findByDocument (/home/mstech/projetos/app-email-attendant/appserver/repositories/ClientRepository.ts:145:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:179:32)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T16:53:34.314Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João da Silva","joao@teste.com","11999999999",null,"Rua das Flores, 123 - Centro","São Paulo","SP","01234-567","123.456.789-00","cpf","Cliente preferencial"],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T16:53:34.476Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1075","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T16:53:34.517Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T16:55:29.590Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T16:55:29.685Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T16:55:29.688Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T16:55:29.693Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T16:57:27.517Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T16:57:27.560Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T16:57:27.562Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T16:57:27.570Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T16:59:17.503Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T16:59:17.549Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T16:59:17.550Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T16:59:17.557Z"}
{"error":"column \"document\" does not exist","level":"error","message":"Query error","params":["123.456.789-00"],"service":"Database","text":"SELECT * FROM clients WHERE document = $1 LIMIT 1","timestamp":"2025-09-14T17:01:07.155Z"}
{"code":"42703","file":"parse_relation.c","length":108,"level":"error","line":"3665","message":"Error finding client by document: column \"document\" does not exist","name":"error","position":"29","routine":"errorMissingColumn","service":"ClientRepository","severity":"ERROR","stack":"error: column \"document\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.findByDocument (/home/mstech/projetos/app-email-attendant/appserver/repositories/ClientRepository.ts:145:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:179:32)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T17:01:07.225Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João da Silva","joao@teste.com","11999999999","1133333333","Rua das Flores, 123 - Centro","São Paulo","SP","01234-567","123.456.789-00","cpf","Cliente preferencial"],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T17:01:07.324Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1075","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T17:01:07.347Z"}
{"error":"column \"document\" does not exist","level":"error","message":"Query error","params":["123.456.789-00"],"service":"Database","text":"SELECT * FROM clients WHERE document = $1 LIMIT 1","timestamp":"2025-09-14T17:01:42.027Z"}
{"code":"42703","file":"parse_relation.c","length":108,"level":"error","line":"3665","message":"Error finding client by document: column \"document\" does not exist","name":"error","position":"29","routine":"errorMissingColumn","service":"ClientRepository","severity":"ERROR","stack":"error: column \"document\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.findByDocument (/home/mstech/projetos/app-email-attendant/appserver/repositories/ClientRepository.ts:145:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:179:32)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T17:01:42.037Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João da Silva Santos","joao.santos@teste.com","11988888888","1144444444","Rua das Flores, 456 - Centro","São Paulo","SP","01234-567","123.456.789-00","cpf","Cliente VIP - Atualizado"],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T17:01:42.096Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1075","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T17:01:42.105Z"}
{"error":"column \"document\" does not exist","level":"error","message":"Query error","params":["123.456.789-00"],"service":"Database","text":"SELECT * FROM clients WHERE document = $1 LIMIT 1","timestamp":"2025-09-14T17:01:43.177Z"}
{"code":"42703","file":"parse_relation.c","length":108,"level":"error","line":"3665","message":"Error finding client by document: column \"document\" does not exist","name":"error","position":"29","routine":"errorMissingColumn","service":"ClientRepository","severity":"ERROR","stack":"error: column \"document\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.findByDocument (/home/mstech/projetos/app-email-attendant/appserver/repositories/ClientRepository.ts:145:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:179:32)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T17:01:43.182Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João da Silva Santos","joao.santos@teste.com","11988888888","1144444444","Rua das Flores, 456 - Centro","São Paulo","SP","01234-567","123.456.789-00","cpf","Cliente VIP - Atualizado"],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T17:01:43.231Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1075","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T17:01:43.250Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T17:04:47.134Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T17:04:47.162Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T17:04:47.163Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T17:04:47.165Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T17:17:38.778Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T17:17:38.844Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T17:17:38.848Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T17:17:38.854Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T17:53:47.617Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T17:53:47.638Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T17:53:47.639Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T17:53:47.640Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    SELECT table_name \n    FROM information_schema.tables \n    WHERE table_schema = 'public' \n    AND table_name IN ('emails', 'categories', 'services', 'clients', 'quotations', 'appointments');\n  ","timestamp":"2025-09-14T17:54:25.756Z"}
{"error":"database \"dbportalservices\" does not exist","level":"error","message":"Query error","service":"Database","text":"\n    CREATE TABLE IF NOT EXISTS emails (\n      id SERIAL PRIMARY KEY,\n      gmail_id VARCHAR(255) UNIQUE NOT NULL,\n      subject TEXT NOT NULL,\n      sender VARCHAR(500) NOT NULL,\n      date TIMESTAMP NOT NULL,\n      body TEXT,\n      snippet TEXT,\n      category VARCHAR(100),\n      confidence DECIMAL(3,2),\n      processed BOOLEAN DEFAULT FALSE,\n      responded BOOLEAN DEFAULT FALSE,\n      response_template VARCHAR(255),\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n      updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n    );\n  ","timestamp":"2025-09-14T17:54:25.833Z"}
{"level":"error","message":"Migrations failed","service":"DBMigrations","timestamp":"2025-09-14T17:54:25.837Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T17:54:25.843Z"}
{"error":"column \"document\" does not exist","level":"error","message":"Query error","params":["123.456.789-00"],"service":"Database","text":"SELECT * FROM clients WHERE document = $1 LIMIT 1","timestamp":"2025-09-14T17:59:27.705Z"}
{"code":"42703","file":"parse_relation.c","length":108,"level":"error","line":"3716","message":"Error finding client by document: column \"document\" does not exist","name":"error","position":"29","routine":"errorMissingColumn","service":"ClientRepository","severity":"ERROR","stack":"error: column \"document\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.findByDocument (/home/mstech/projetos/app-email-attendant/appserver/repositories/ClientRepository.ts:145:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:179:32)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T17:59:27.756Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João da Silva Santos","joao.santos@teste.com","11988888888","1144444444","Rua das Flores, 456 - Centro","São Paulo","SP","01234-567","123.456.789-00","cpf","Cliente VIP - Atualizado"],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T17:59:27.808Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1065","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T17:59:27.833Z"}
{"error":"column \"document\" does not exist","level":"error","message":"Query error","params":["123.456.789-00"],"service":"Database","text":"SELECT * FROM clients WHERE document = $1 LIMIT 1","timestamp":"2025-09-14T18:00:42.712Z"}
{"code":"42703","file":"parse_relation.c","length":108,"level":"error","line":"3716","message":"Error finding client by document: column \"document\" does not exist","name":"error","position":"29","routine":"errorMissingColumn","service":"ClientRepository","severity":"ERROR","stack":"error: column \"document\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.findByDocument (/home/mstech/projetos/app-email-attendant/appserver/repositories/ClientRepository.ts:145:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:179:32)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T18:00:42.735Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João da Silva Santos","joao.santos@teste.com","11988888888","1144444444","Rua das Flores, 456 - Centro","São Paulo","SP","01234-567","123.456.789-00","cpf","Cliente VIP - Atualizado"],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T18:00:42.838Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1065","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T18:00:42.882Z"}
{"error":"column \"document\" does not exist","level":"error","message":"Query error","params":["123.456.789-00"],"service":"Database","text":"SELECT * FROM clients WHERE document = $1 LIMIT 1","timestamp":"2025-09-14T18:00:44.247Z"}
{"code":"42703","file":"parse_relation.c","length":108,"level":"error","line":"3716","message":"Error finding client by document: column \"document\" does not exist","name":"error","position":"29","routine":"errorMissingColumn","service":"ClientRepository","severity":"ERROR","stack":"error: column \"document\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.findByDocument (/home/mstech/projetos/app-email-attendant/appserver/repositories/ClientRepository.ts:145:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:179:32)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T18:00:44.264Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João da Silva Santos","joao.santos@teste.com","11988888888","1144444444","Rua das Flores, 456 - Centro","São Paulo","SP","01234-567","123.456.789-00","cpf","Cliente VIP - Atualizado"],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T18:00:44.345Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1065","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T18:00:44.367Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João Silva","joao@email.com","(11) 99999-9999",null,"Rua das Flores, 123",null,null,null,null,"cpf",null],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T18:00:45.301Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1065","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T18:00:45.316Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João Silva","joao@email.com","(11) 99999-9999",null,"Rua das Flores, 123",null,null,null,null,"cpf","Cliente teste"],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T18:01:10.866Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1065","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T18:01:10.868Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João Silva","joao@email.com","(11) 99999-9999",null,"Rua das Flores, 123",null,null,null,null,"cpf",null],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T18:01:18.465Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1065","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T18:01:18.468Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João Silva","joao@email.com","(11) 99999-9999",null,"Rua das Flores, 123",null,null,null,null,"cpf",null],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T18:01:19.280Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1065","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T18:01:19.283Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João Silva","joao@email.com","(11) 99999-9999",null,"Rua das Flores, 123",null,null,null,null,"cpf",null],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T18:01:19.568Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1065","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T18:01:19.572Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João Silva","joao@email.com","(11) 99999-9999",null,"Rua das Flores, 123",null,null,null,null,"cpf",null],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T18:01:19.787Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1065","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T18:01:19.792Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João Silva","joao@email.com","(11) 99999-9999",null,"Rua das Flores, 123",null,null,null,null,"cpf",null],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T18:01:20.047Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1065","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T18:01:20.053Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João Silva","joao@email.com","(11) 99999-9999",null,"Rua das Flores, 123",null,null,null,null,"cpf","Cliente teste"],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T18:01:39.569Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1065","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T18:01:39.582Z"}
{"error":"column \"phone_secondary\" of relation \"clients\" does not exist","level":"error","message":"Query error","params":["João Silva","joao@email.com","(11) 99999-9999",null,"Rua das Flores, 123",null,null,null,null,"cpf","Cliente teste"],"service":"Database","text":"\n        INSERT INTO clients (name, email, phone, phone_secondary, address, city, state, zip_code, document, document_type, notes)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)\n        RETURNING *\n      ","timestamp":"2025-09-14T18:02:58.637Z"}
{"code":"42703","file":"parse_target.c","length":135,"level":"error","line":"1065","message":"Error creating clients: column \"phone_secondary\" of relation \"clients\" does not exist","name":"error","position":"51","routine":"checkInsertTargets","service":"ClientRepository","severity":"ERROR","stack":"error: column \"phone_secondary\" of relation \"clients\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at ClientRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at ClientService.createClient (/home/mstech/projetos/app-email-attendant/appserver/services/ClientService.ts:188:14)\n    at createClient (/home/mstech/projetos/app-email-attendant/appserver/controllers/ClientController.ts:191:22)","timestamp":"2025-09-14T18:02:58.646Z"}
{"error":"column \"sort_order\" does not exist","level":"error","message":"Query error","service":"Database","text":"SELECT COALESCE(MAX(sort_order), 0) + 1 as next_order FROM categories","timestamp":"2025-09-14T18:03:37.417Z"}
{"code":"42703","file":"parse_relation.c","length":110,"level":"error","line":"3716","message":"Error getting next sort order: column \"sort_order\" does not exist","name":"error","position":"21","routine":"errorMissingColumn","service":"CategoryRepository","severity":"ERROR","stack":"error: column \"sort_order\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at CategoryRepository.getNextSortOrder (/home/mstech/projetos/app-email-attendant/appserver/repositories/CategoryRepository.ts:140:22)\n    at CategoryService.createCategory (/home/mstech/projetos/app-email-attendant/appserver/services/CategoryService.ts:93:33)\n    at createCategory (/home/mstech/projetos/app-email-attendant/appserver/controllers/CategoryController.ts:99:22)","timestamp":"2025-09-14T18:03:37.461Z"}
{"error":"column \"icon\" of relation \"categories\" does not exist","level":"error","message":"Query error","params":["Jardineiro","Serviços de jardinagem e paisagismo","#2ECC71",null,0],"service":"Database","text":"\n        INSERT INTO categories (name, description, color, icon, sort_order)\n        VALUES ($1, $2, $3, $4, $5)\n        RETURNING *\n      ","timestamp":"2025-09-14T18:03:37.519Z"}
{"code":"42703","file":"parse_target.c","length":127,"level":"error","line":"1065","message":"Error creating categories: column \"icon\" of relation \"categories\" does not exist","name":"error","position":"60","routine":"checkInsertTargets","service":"CategoryRepository","severity":"ERROR","stack":"error: column \"icon\" of relation \"categories\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at CategoryRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at CategoryService.createCategory (/home/mstech/projetos/app-email-attendant/appserver/services/CategoryService.ts:99:14)\n    at createCategory (/home/mstech/projetos/app-email-attendant/appserver/controllers/CategoryController.ts:99:22)","timestamp":"2025-09-14T18:03:37.543Z"}
{"error":"column \"sort_order\" does not exist","level":"error","message":"Query error","service":"Database","text":"SELECT COALESCE(MAX(sort_order), 0) + 1 as next_order FROM categories","timestamp":"2025-09-14T18:03:55.101Z"}
{"code":"42703","file":"parse_relation.c","length":110,"level":"error","line":"3716","message":"Error getting next sort order: column \"sort_order\" does not exist","name":"error","position":"21","routine":"errorMissingColumn","service":"CategoryRepository","severity":"ERROR","stack":"error: column \"sort_order\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at CategoryRepository.getNextSortOrder (/home/mstech/projetos/app-email-attendant/appserver/repositories/CategoryRepository.ts:140:22)\n    at CategoryService.createCategory (/home/mstech/projetos/app-email-attendant/appserver/services/CategoryService.ts:93:33)\n    at createCategory (/home/mstech/projetos/app-email-attendant/appserver/controllers/CategoryController.ts:99:22)","timestamp":"2025-09-14T18:03:55.110Z"}
{"error":"column \"icon\" of relation \"categories\" does not exist","level":"error","message":"Query error","params":["Jardineiro","Serviços de jardinagem e paisagismo","#2ECC71",null,0],"service":"Database","text":"\n        INSERT INTO categories (name, description, color, icon, sort_order)\n        VALUES ($1, $2, $3, $4, $5)\n        RETURNING *\n      ","timestamp":"2025-09-14T18:03:55.140Z"}
{"code":"42703","file":"parse_target.c","length":127,"level":"error","line":"1065","message":"Error creating categories: column \"icon\" of relation \"categories\" does not exist","name":"error","position":"60","routine":"checkInsertTargets","service":"CategoryRepository","severity":"ERROR","stack":"error: column \"icon\" of relation \"categories\" does not exist\n    at /home/mstech/projetos/app-email-attendant/appserver/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Database.query (/home/mstech/projetos/app-email-attendant/appserver/database/Database.ts:39:38)\n    at CategoryRepository.create (/home/mstech/projetos/app-email-attendant/appserver/repositories/BaseRepository.ts:136:22)\n    at CategoryService.createCategory (/home/mstech/projetos/app-email-attendant/appserver/services/CategoryService.ts:99:14)\n    at createCategory (/home/mstech/projetos/app-email-attendant/appserver/controllers/CategoryController.ts:99:22)","timestamp":"2025-09-14T18:03:55.150Z"}
{"error":"column \"duration\" of relation \"services\" does not exist","level":"error","message":"Query error","params":["Instalação Elétrica","Instalação completa de sistema elétrico residencial","Eletricista",80,"4-8 horas"],"service":"Database","text":"INSERT INTO services (name, description, category, price, duration) \n         VALUES ($1, $2, $3, $4, $5)","timestamp":"2025-09-14T20:13:36.937Z"}
{"level":"error","message":"Failed to seed default data:","service":"DataSeeder","timestamp":"2025-09-14T20:13:36.941Z"}
{"level":"error","message":"Failed to initialize database","service":"Server","timestamp":"2025-09-14T20:13:36.942Z"}
{"error":"duplicate key value violates unique constraint \"emails_gmail_id_key\"","level":"error","message":"Query error","params":["uniquggggggggge-xxx-id-123","Assunto do Email","Nome do Remetente <remetente@email.com>","2025-09-12T13:35:49.795Z","Corpo do email...","Eletricista",false],"service":"Database","text":"INSERT INTO emails (gmail_id, subject, sender, date, body, category, processed)\n         VALUES ($1, $2, $3, $4, $5, $6, $7)\n         RETURNING *","timestamp":"2025-09-14T20:20:33.809Z"}
